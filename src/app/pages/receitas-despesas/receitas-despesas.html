<div class="page-container">
  <h2 class="titulo">Receitas e Despesas</h2>

  <div class="filtros">
    <div class="form-group">
      <label for="tipo">Tipo:</label>
      <select id="tipo" [(ngModel)]="filtro.tipo" (change)="aplicarFiltros()">
        <option value="todos">Todos</option>
        <option value="receita">Receita</option>
        <option value="despesa">Despesa</option>
      </select>
    </div>

    <div class="form-group">
      <label for="periodo">Período:</label>
      <select id="periodo" [(ngModel)]="filtro.periodo" (change)="aplicarFiltros()">
        <option value="todos">Todos</option>
        <option value="mes">Este mês</option>
        <option value="semana">Esta semana</option>
        <option value="hoje">Hoje</option>
      </select>
    </div>

    <div class="form-group">
      <label for="categoria">Categoria:</label>
      <select id="categoria" [(ngModel)]="filtro.categoria" (change)="aplicarFiltros()">
        <option value="todas">Todas</option>
        <option value="salário">Salário</option>
        <option value="venda">Venda</option>
        <option value="freelance">Freelance</option>
        <option value="aluguel">Aluguel</option>
        <option value="internet">Internet</option>
        <option value="serviços">Serviços</option>
        <option value="alimentacao">Alimentação</option>
        <option value="transporte">Transporte</option>
      </select>
    </div>

    <div class="btn-group">
      <button class="btn-exportar" (click)="novoLancamento()">
        <mat-icon>add</mat-icon>
        Lançamento
      </button>
      <button class="btn-exportar" color="primary" (click)="exportarParaExcel()">
        <mat-icon>file_download</mat-icon>
        Exportar
      </button>
    </div>
  </div>

  <div class="cards">
    <div class="card blue">
      <h3>Receitas</h3>
      <p>R$ {{ receitas | number: '1.2-2' }}</p>
    </div>
    <div class="card red">
      <h3>Despesas</h3>
      <p>R$ {{ despesas | number: '1.2-2' }}</p>
    </div>
    <div class="card green">
      <h3>Saldo</h3>
      <p>R$ {{ saldo | number: '1.2-2' }}</p>
    </div>
  </div>

  <div class="historico-transacoes">
    <h3>Histórico de Transações</h3>
    <p>Veja abaixo todas as receitas e despesas registradas no sistema, com seus respectivos valores, tipos e status.
    </p>
  </div>


  <table class="tabela">
    <thead>
      <tr>
        <th>Descrição</th>
        <th>Tipo</th>
        <th>Valor</th>
        <th>Data</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of data">
        <td>{{ row.descricao }}</td>
        <td>{{ row.tipo }}</td>
        <td>R$ {{ row.valor | number: '1.2-2' }}</td>
        <td>{{ row.data | date:'dd/MM/yyyy' }}</td>
        <td>{{ row.status }}</td>
      </tr>
    </tbody>
  </table>
</div>